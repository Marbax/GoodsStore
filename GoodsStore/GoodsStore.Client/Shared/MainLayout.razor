@inherits LayoutComponentBase
@inject NavigationManager _navMngr
@inject UserVM _userVM

<div class="sidebar">
    <NavMenu />
</div>

<div class="main">
    <div class="top-row px-4">

        @if (_userVM.IsSignedIn)
        {
            <h4>Hello, <a href="/profile">@_userVM.User</a></h4>
            <button class="btn btn-danger mx-3" @onclick="Logout">Logout</button>
        }
        else
        {
            <a href="/login" class="btn btn-success mx-2">Login</a>
            <a href="/register" class="btn btn-success mx-2">Register</a>
        }
    </div>

    <div class="content px-4">
        @Body
    </div>
</div>

@code{

    private async Task Logout()
    {
        await _userVM.Logout();
    }

}